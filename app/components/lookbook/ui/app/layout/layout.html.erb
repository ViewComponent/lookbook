<%= render component_tag(
  x: {
    data: "layout",
    bind: "bindings.root"
  },
  data: {status_bar: status_bar?.to_json}
) do %>
  <header id="app-header">
    <%= header %>
  </header>
  
  <%=
    lb_pane_group("app-main",
      tag: :main,
      opts: {
        orientation: :vertical,
        sizes: ["280px", "auto"],
        min_sizes: [200, 200]
      }) do |body|
      body.with_pane do
        lb_pane_group("app-sidebar",
        opts: {
          orientation: :horizontal,
          sizes: ["50%", "50%"],
          min_sizes: [100, 100]
        }) do |sidebar|

          sidebar.with_pane("previews-nav") do |pane|
            pane.with_label { config.previews_nav_label }
            pane.with_action(icon: :copy_minus, tooltip: "Collapse all", click: "$dispatch('nav:collapse-all', {id: 'previews-nav-tree'})")
            previews_nav
          end

          if pages_nav?
            sidebar.with_pane("pages-nav") do |pane|
              pane.with_label { config.pages_nav_label }
              pane.with_action(icon: :copy_minus, tooltip: "Collapse all", click: "$dispatch('nav:collapse-all', {id: 'pages-nav-tree'})")
              pages_nav
            end
          end

        end 
      end
      body.with_pane { main }
    end
  %>  

  <% if status_bar? %>
    <footer id="app-status-bar">
      <%= status_bar %>
    </footer>  
  <% end %>
<% end %>
