<%= render component_tag(
  id: "app",
  x: {
    data: "app",
    ":class": "{'with-status-bar': #{status_bar?.to_json}}"
  }
) do %>
  <header class="app-header">
    <%= header %>
  </header>

  <main
    class="app-body"
    @pointerdown="interactionStart"
    @pointerup="interactionEnd">
    <% if sidebar? %>
      <sl-split-panel
        key="app-layout"
        class="app-layout"
        primary="start"
        :position="sidebarPosition"
        @sl-reposition="sidebarPosition = $el.position">
        <div slot="start" class="app-sidebar">
          <%= sidebar %>
        </div>
        <div slot="end" class="app-main">
          <%= main %>
        </div>
      </sl-split-panel>  
    <% else %>
      <div class="app-main">
        <%= main %>
      </div>
    <% end %>
  </main>

  <% if status_bar? %>
    <footer class="app-status-bar">
      <%= status_bar %>
    </footer>  
  <% end %>
<% end %>
